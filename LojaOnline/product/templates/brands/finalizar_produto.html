<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Endere√ßo e Pagamento</title>

    {% load static %}
    <link rel="stylesheet" href="{% static "css/finalizar_produto.css" %}">

</head>
<body>

     <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">

    <div class="container">
        <div class="header">
            <h1>Finalizar Pedido</h1>
            <p>Insira seu endere√ßo e escolha a forma de pagamento</p>
        </div>

        <div class="form-container">
            <div id="orderForm">
                <div class="section">
                    <h2>Endere√ßo de Entrega</h2>
                    
                    <!-- Endere√ßo Salvo -->
                    <div id="savedAddress" class="saved-address">
                        <div class="address-card">
                            <div class="address-header">
                                <div class="address-info">
                                    <div class="address-title">Endere√ßo Principal</div>
                                    <div class="address-details">
                                        
                                    </div>
                                </div>
                                <!--
                                <div class="address-actions">
                                    <button type="button" class="edit-btn" onclick="editAddress()">‚úèÔ∏è</button>
                                </div>
                                -->
                            </div>
                        </div>
                        <button type="button" class="new-address-btn" onclick="showenderecoForm()">
                            <span>‚ûï</span> Adicionar Novo Endere√ßo
                        </button>
                    </div>

                    <!-- Formul√°rio de Novo Endere√ßo -->
                    <form id="enderecoForm" class="new-address-form" style="display: none;">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="rua">Rua/Avenida</label>
                                <input type="text" id="rua" name="rua" maxlength="50">
                            </div>
                            <div class="form-group">
                                <label for="num_casa">N√∫mero</label>
                                <input type="text" id="num_casa" name="num_casa">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="cep">CEP</label>
                                <input type="text" id="cep" name="cep" maxlength="9" placeholder="00000-000">
                            </div>
                            <div class="form-group">
                                <label for="complemento">Complemento</label>
                                <input type="text" id="complemento" name="complemento" maxlength="20" placeholder="Apto, Bloco, etc.">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="cidade">Cidade</label>
                                <input type="text" id="cidade" name="cidade" maxlength="50">
                            </div>
                            <div class="form-group">
                                <label for="estado">Estado</label>
                                <select id="estado" name="estado">
                                    <option value="">Selecione o estado</option>
                                    <option value="AC">Acre</option>
                                    <option value="AL">Alagoas</option>
                                    <option value="AP">Amap√°</option>
                                    <option value="AM">Amazonas</option>
                                    <option value="BA">Bahia</option>
                                    <option value="CE">Cear√°</option>
                                    <option value="DF">Distrito Federal</option>
                                    <option value="ES">Esp√≠rito Santo</option>
                                    <option value="GO">Goi√°s</option>
                                    <option value="MA">Maranh√£o</option>
                                    <option value="MT">Mato Grosso</option>
                                    <option value="MS">Mato Grosso do Sul</option>
                                    <option value="MG">Minas Gerais</option>
                                    <option value="PA">Par√°</option>
                                    <option value="PB">Para√≠ba</option>
                                    <option value="PR">Paran√°</option>
                                    <option value="PE">Pernambuco</option>
                                    <option value="PI">Piau√≠</option>
                                    <option value="RJ">Rio de Janeiro</option>
                                    <option value="RN">Rio Grande do Norte</option>
                                    <option value="RS">Rio Grande do Sul</option>
                                    <option value="RO">Rond√¥nia</option>
                                    <option value="RR">Roraima</option>
                                    <option value="SC">Santa Catarina</option>
                                    <option value="SP">S√£o Paulo</option>
                                    <option value="SE">Sergipe</option>
                                    <option value="TO">Tocantins</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="ponto_referencia">Ponto de Refer√™ncia</label>
                            <input type="text" id="ponto_referencia" name="ponto_referencia" maxlength="50" placeholder="Ex: Pr√≥ximo ao shopping, em frente √† escola...">
                        </div>

                        <div class="form-actions">
                            <button type="button" class="cancel-btn" onclick="cancelNewAddress()">Cancelar</button>
                            <button type="submit" class="save-btn">Salvar Endere√ßo</button>
                        </div>
                    </form>
                </div>
    

                <div class="section">
                    <h2>Forma de Pagamento</h2>
                    
                    <div class="payment-options">
                        <div class="payment-option" onclick="selectPayment('vista')">
                            <input type="radio" name="payment" value="vista" id="vista">
                            <div class="payment-header">
                                <div class="payment-icon">üí≥</div>
                                <div class="payment-title">√Ä Vista</div>
                            </div>
                            <div class="payment-description">
                                Pagamento em dinheiro, PIX ou cart√£o de d√©bito
                            </div>
                        </div>

                        <div class="payment-option" onclick="selectPayment('prazo')">
                            <input type="radio" name="payment" value="prazo" id="prazo">
                            <div class="payment-header">
                                <div class="payment-icon">üìÖ</div>
                                <div class="payment-title">Cart√£o de Cr√©dito</div>
                            </div>
                            <div class="payment-description">
                                Parcelamento em at√© 12x no cart√£o de cr√©dito
                            </div>
                            <div class="installments">
                                <label for="parcelas">N√∫mero de parcelas:</label>
                                <select id="parcelas" name="parcelas">
                                    <option value="1">1x sem juros</option>
                                    <option value="2">2x sem juros</option>
                                    <option value="3">3x sem juros</option>
                                    <option value="4">4x sem juros</option>
                                    <option value="5">5x sem juros</option>
                                    <option value="6">6x sem juros</option>
                                    <option value="7">7x com juros</option>
                                    <option value="8">8x com juros</option>
                                    <option value="9">9x com juros</option>
                                    <option value="10">10x com juros</option>
                                    <option value="11">11x com juros</option>
                                    <option value="12">12x com juros</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <button type="button" class="submit-btn" onclick="finalizar_produto()">Finalizar Pedido</button>
                
                <div class="success-message" id="successMessage">
                    ‚úÖ Pedido realizado com sucesso! Voc√™ receber√° uma confirma√ß√£o em breve.
                </div>
            </div>
        </div>
    </div>

    <script src="{% static "js/finalizar_produto.js" %}"></script>
</body>
</html>